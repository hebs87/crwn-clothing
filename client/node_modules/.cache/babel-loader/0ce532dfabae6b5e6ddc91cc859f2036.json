{"ast":null,"code":"import { createStore, applyMiddleware } from 'redux'; // Import persistStore to allow our browser to cache the store\n\nimport { persistStore } from 'redux-persist'; // Import logger, which console logs the input of the\n// actions to help us better understand what is happening\n\nimport logger from 'redux-logger'; // Import thunk to enable reusability of asynchronous actions\n// (to get the shop data from the firestore)\n// No longer needed if we are using saga instead\n// import thunk from 'redux-thunk';\n// Import our rootReducer\n\nimport rootReducer from './root-reducer'; // The middlewares that our store expects from redux is\n// an array with any number of parameters that we want\n// As we only want the logger middleware in our development\n// environment, we set this as a blank array first\n// Once we've installed redux-thunk and imported thunk,\n// we want to push it into our middlewares array\n\nconst middlewares = [thunk]; // If we are in the development environment, we will push\n// the logger middleware into the empty middlewares array\n\nif (process.env.NODE_ENV === 'development') {\n  middlewares.push(logger);\n}\n\n; // We create our store and use the createStore method,\n// which takes two parameters - our rootReducer and also\n// the return value of applyMiddleware, in which we spread\n// in our middlewares (we do it this way to make it more\n// scalable so that we don't have to pass in each\n// individual parameter)\n\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares)); // We want to create a persistor and pass in our store\n// to enable it to persist in either local or session storage\n\nexport const persistor = persistStore(store); // Finally, we want to export an object that contains\n// our store and the persistor\n\nexport default {\n  store,\n  persistor\n};","map":{"version":3,"sources":["/workspace/crwn-clothing/src/redux/store.js"],"names":["createStore","applyMiddleware","persistStore","logger","rootReducer","middlewares","thunk","process","env","NODE_ENV","push","store","persistor"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C,C,CACA;;AACA,SAASC,YAAT,QAA6B,eAA7B,C,CACA;AACA;;AACA,OAAOC,MAAP,MAAmB,cAAnB,C,CACA;AACA;AACA;AACA;AAEA;;AACA,OAAOC,WAAP,MAAwB,gBAAxB,C,CAEA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,WAAW,GAAG,CAACC,KAAD,CAApB,C,CAEA;AACA;;AACA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AACxCJ,EAAAA,WAAW,CAACK,IAAZ,CAAiBP,MAAjB;AACH;;AAAA,C,CAED;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMQ,KAAK,GAAGX,WAAW,CAACI,WAAD,EAAcH,eAAe,CAAC,GAAGI,WAAJ,CAA7B,CAAzB,C,CAEP;AACA;;AACA,OAAO,MAAMO,SAAS,GAAGV,YAAY,CAACS,KAAD,CAA9B,C,CAEP;AACA;;AACA,eAAe;AAAEA,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAf","sourcesContent":["import { createStore, applyMiddleware } from 'redux';\n// Import persistStore to allow our browser to cache the store\nimport { persistStore } from 'redux-persist';\n// Import logger, which console logs the input of the\n// actions to help us better understand what is happening\nimport logger from 'redux-logger';\n// Import thunk to enable reusability of asynchronous actions\n// (to get the shop data from the firestore)\n// No longer needed if we are using saga instead\n// import thunk from 'redux-thunk';\n\n// Import our rootReducer\nimport rootReducer from './root-reducer';\n\n// The middlewares that our store expects from redux is\n// an array with any number of parameters that we want\n// As we only want the logger middleware in our development\n// environment, we set this as a blank array first\n// Once we've installed redux-thunk and imported thunk,\n// we want to push it into our middlewares array\nconst middlewares = [thunk];\n\n// If we are in the development environment, we will push\n// the logger middleware into the empty middlewares array\nif (process.env.NODE_ENV === 'development') {\n    middlewares.push(logger);\n};\n\n// We create our store and use the createStore method,\n// which takes two parameters - our rootReducer and also\n// the return value of applyMiddleware, in which we spread\n// in our middlewares (we do it this way to make it more\n// scalable so that we don't have to pass in each\n// individual parameter)\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares));\n\n// We want to create a persistor and pass in our store\n// to enable it to persist in either local or session storage\nexport const persistor = persistStore(store);\n\n// Finally, we want to export an object that contains\n// our store and the persistor\nexport default { store, persistor };\n"]},"metadata":{},"sourceType":"module"}